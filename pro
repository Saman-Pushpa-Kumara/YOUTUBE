/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/ytpro@3.9.2/script.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
if(null==window.eruda&&"true"==localStorage.getItem("devMode")&&(window.location.href="javascript:(function () { var script = document.createElement('script'); script.src=\"//cdn.jsdelivr.net/npm/eruda\"; document.body.appendChild(script); script.onload = function () { eruda.init();} })();"),!YTProVer){var YTProVer="3.92",ytoldV="",isF=!1,isAp=!1;const e=HTMLMediaElement.prototype.pause;window.PIPause=!1,window.isPIP=!1,window.pauseAllowed=!0;var sTime=[],webUrls=["m.youtube.com","youtube.com","yout.be","accounts.google.com"],GeminiAT="",GeminiModels={"2.0 Flash":'[null,null,null,null,"f299729663a2343f"]',"2.0 Flash Thinking":'[null,null,null,null,"7ca48d02d802f20a"]',"2.5 Flash":'[1,null,null,null,"71c2d248d3b102ff",null,null,0,[4]]',"2.5 Pro":'[1,null,null,null,"4af6c7f5da75d65d",null,null,0,[4]]'},YTPROCodecs={video:["AV1","VP8","VP9","H264"],audio:["Opus","Mp4a"]};let t=0,n=0,i=null;var sens=.005,vol=Android.getVolume(),brt=Android.getBrightness()/100;null!=localStorage.getItem("saveCInfo")&&null!=localStorage.getItem("gesC")&&null!=localStorage.getItem("bgplay")||(localStorage.setItem("autoSpn","true"),localStorage.setItem("bgplay","true"),localStorage.setItem("gesC","true"),localStorage.setItem("fzoom","false"),localStorage.setItem("saveCInfo","true"),localStorage.setItem("geminiModel","2.5 Flash"),localStorage.setItem("prompt","Give me details about this YouTube video Id: {videoId} , a detailed summary of timestamps with facts , resources and reviews of the main content"),localStorage.setItem("devMode","false"),localStorage.setItem("block_60fps","false"),YTPROCodecs.video.forEach((e=>{localStorage.setItem(e,"true")})),YTPROCodecs.audio.forEach((e=>{localStorage.setItem(e,"true")}))),"true"==localStorage.getItem("fzoom")&&document.getElementsByName("viewport")[0].setAttribute("content",""),ytoldV=window.location.pathname.indexOf("shorts")>-1?window.location.pathname:new URLSearchParams(window.location.search).get("v");var c="#000",d="#f2f2f2",dc="#fff",isD=!1,dislikes="...";document.cookie.indexOf("f6=40000")>-1?(dc="#000",c="#fff",d="rgba(255,255,255,0.1)",isD=!0):(dc="#fff",c="#000",d="rgba(0,0,0,0.05)",isD=!1);var downBtn=`<svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24" fill="none">\n<path\nd="M16.59 9H15V4a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5H7.41a1 1 0 0 0-.7 1.7l4.59 4.59a1 1 0 0 0 1.42 0l4.59-4.59a1 1 0 0 0-.72-1.7Z"\nstroke="${c}"\nstroke-width="1.8"\nstroke-linecap="round"\nstroke-linejoin="round"\n/>\n<rect x="5" y="17.2" width="14" height="1.8" rx="0.9" fill="${c}" />\n</svg>\n`;function override(){var e=document.createElement("video"),t=e.canPlayType.bind(e);e.__proto__.canPlayType=makeModifiedTypeChecker(t);var n=window.MediaSource;if(void 0!==n){var i=n.isTypeSupported.bind(n);n.isTypeSupported=makeModifiedTypeChecker(i)}}function makeModifiedTypeChecker(e){return function(t){if(void 0===t)return"";var n=[];"false"===localStorage.H264&&n.push("avc"),"false"===localStorage.VP8&&n.push("vp8"),"false"===localStorage.VP9&&n.push("vp9","vp09"),"true"===localStorage.AV1&&n.push("av01","av99"),"false"===localStorage.Opus&&n.push("opus"),"false"===localStorage.Mp4a&&n.push("mp4a");for(var i=0;i<n.length;i++)if(-1!==t.indexOf(n[i]))return"";if("true"===localStorage.block_60fps){var o=/framerate=(\d+)/.exec(t);if(o&&o[1]>30)return""}return e(t)}}function insertAfter(e,t){try{e.parentNode.insertBefore(t,e.nextSibling)}catch{}}async function waitForElement(e,t){return new Promise((n=>{const i=document.querySelector(e);if(i){if(t&&""!=i.src)return n(i);if(!t)return n(i)}const o=new MutationObserver((()=>{const i=document.querySelector(e);i&&(t&&i.src&&(n(i),o.disconnect()),t||(n(i),o.disconnect()))}));o.observe(document.body,{childList:!0,subtree:!0})}))}override();var addSettingsTab=()=>{if(null==document.getElementById("setDiv")){var e=document.createElement("div");e.setAttribute("style","\nheight:30px;width:30px;\nz-index:9999999999;\nfont-size:22px;\ntext-align:center;line-height:35px;\n"),e.setAttribute("id","setDiv");var t=document.createElement("div");t.innerHTML=`<svg fill="${window.location.href.indexOf("watch")<0?c:"#fff"}" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"  id="hSett"><path d="M12.844 1h-1.687a2 2 0 00-1.962 1.616 3 3 0 01-3.92 2.263 2 2 0 00-2.38.891l-.842 1.46a2 2 0 00.417 2.507 3 3 0 010 4.525 2 2 0 00-.417 2.507l.843 1.46a2 2 0 002.38.892 3.001 3.001 0 013.918 2.263A2 2 0 0011.157 23h1.686a2 2 0 001.963-1.615 3.002 3.002 0 013.92-2.263 2 2 0 002.38-.892l.842-1.46a2 2 0 00-.418-2.507 3 3 0 010-4.526 2 2 0 00.418-2.508l-.843-1.46a2 2 0 00-2.38-.891 3 3 0 01-3.919-2.263A2 2 0 0012.844 1Zm-1.767 2.347a6 6 0 00.08-.347h1.687a4.98 4.98 0 002.407 3.37 4.98 4.98 0 004.122.4l.843 1.46A4.98 4.98 0 0018.5 12a4.98 4.98 0 001.716 3.77l-.843 1.46a4.98 4.98 0 00-4.123.4A4.979 4.979 0 0012.843 21h-1.686a4.98 4.98 0 00-2.408-3.371 4.999 4.999 0 00-4.12-.399l-.844-1.46A4.979 4.979 0 005.5 12a4.98 4.98 0 00-1.715-3.77l.842-1.459a4.98 4.98 0 004.123-.399 4.981 4.981 0 002.327-3.025ZM16 12a4 4 0 11-7.999 0 4 4 0 018 0Zm-4 2a2 2 0 100-4 2 2 0 000 4Z"></path></svg>\n`,e.appendChild(t),insertAfter(document.getElementsByTagName("ytm-home-logo")[0],e),null!=document.getElementById("hSett")&&document.getElementById("hSett").addEventListener("click",(function(e){window.location.hash="settings"}))}};function getDislikesInLocale(e){var t=e;if(e<1e3)t=e;else{const n=Math.floor(Math.log10(e)-2),i=n+(n%3?1:0);t=Math.floor(e/10**i)*10**i}let n;if(document.documentElement.lang)n=document.documentElement.lang;else if(navigator.language)n=navigator.language;else try{n=new URL(Array.from(document.querySelectorAll("head > link[rel='search']"))?.find((e=>e?.getAttribute("href")?.includes("?locale=")))?.getAttribute("href"))?.searchParams?.get("locale")}catch{n="en"}return Intl.NumberFormat(n,{notation:"compact",compactDisplay:"short"}).format(t)}async function skipSponsor(){var e=document.createElement("div");e.setAttribute("style","height:3px;pointer-events:none;width:100%;position:absolute;z-index:99;"),e.setAttribute("id","sDiv");var t=document.getElementsByClassName("video-stream")[0].duration;if(!isNaN(t)){for(var n in sTime){var i=document.createElement("div"),o=sTime[n];i.setAttribute("style",`height:3px;width:${100/t*(o[1]-o[0])}%;background:#0f8;position:absolute;z-index:9;left:${100/t*o[0]}%;`),e.appendChild(i)}await waitForElement("yt-progress-bar",!1);if(null==document.getElementById("sDiv"))if(null!=document.getElementsByClassName("ytPlayerProgressBarHost")[0])document.getElementsByClassName("ytPlayerProgressBarHost")[0].appendChild(e);else try{document.getElementsByClassName("ytProgressBarLineProgressBarLine")[0].appendChild(e)}catch{}}}async function fDislikes(e){var t=new URL(e),n="";t.pathname.indexOf("shorts")>-1?n=t.pathname.substr(8,t.pathname.length):t.pathname.indexOf("watch")>-1&&(n=t.searchParams.get("v")),fetch("https://returnyoutubedislikeapi.com/votes?videoId="+n).then((e=>e.json())).then((e=>{"dislikes"in e&&(dislikes=getDislikesInLocale(parseInt(e.dislikes)))})).catch((e=>{}))}async function checkSponsors(e){if(e.indexOf("watch")>-1){sTime=[],await fetch("https://sponsor.ajay.app/api/skipSegments?videoID="+new URL(e).searchParams.get("v")).then((e=>e.json())).then((e=>{for(var t in e){var n=e[t].segment;sTime.push(n)}})).catch((e=>{}));var t=await waitForElement(".video-stream",!0);t.ontimeupdate=()=>{skipSponsor();var e=t.currentTime;for(var n in sTime){var i=sTime[n];Math.floor(e)==Math.floor(i[0])&&"true"==localStorage.getItem("autoSpn")&&(t.currentTime=i[1],addSkipper(i[0]))}}}}function addSkipper(e){var t=document.createElement("div");t.setAttribute("style",`\nheight:50px;${screen.width>screen.height?"width:50%;":"width:80%;"}overflow:auto;background:rgba(130,130,130,.3);\nbackdrop-filter:blur(6px);\nposition:absolute;bottom:40px;\nline-height:50px;\nleft:calc(15% / 2 );padding-left:10px;padding-right:10px;\nz-index:99999999999999;text-align:center;border-radius:25px;\ncolor:white;text-align:center;\n`),t.innerHTML=`<span style="height:30px;line-height:30px;margin-top:10px;display:block;font-family:monospace;font-size:16px;float:left;">Skipped Sponsor</span>\n<span style="height:30px;line-height:44px;float:right;padding-right:30px;margin-top:10px;display:block;padding-left:30px;border-left:1px solid white;">\n<svg onclick="this.parentElement.parentElement.remove();document.getElementsByClassName('video-stream')[0].currentTime=${e+1};" xmlns="http://www.w3.org/2000/svg" width="23" height="23" style="margin-top:0px;" fill="currentColor" viewBox="0 0 16 16">\n<path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"/>\n<path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"/>\n</svg>\n<svg onclick="this.parentElement.parentElement.remove();" xmlns="http://www.w3.org/2000/svg" width="20" height="20" style="margin-left:30px;" fill="#f24" class="bi bi-x-circle-fill" viewBox="0 0 16 16">\n<path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"/>\n</svg>\n</span>`,document.getElementById("player-control-container").appendChild(t),setTimeout((()=>{t.remove()}),5e3)}if(fDislikes(window.location.href),checkSponsors(window.location.href),window.location.pathname.indexOf("watch")>-1||window.location.pathname.indexOf("shorts")>-1)var unV=setInterval((()=>{document.getElementsByClassName("video-stream")[0].muted=!1,document.getElementsByClassName("video-stream")[0].muted||clearInterval(unV)}),5);function sty(e,t){var n={display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"550",height:"65%",minWidth:"80px",width:"auto",borderRadius:"20px",background:d,fontSize:"12px",marginRight:"5px",textAlign:"center"};for(x in n)e.style[x]=n[x]}function getGeminiModels(){var e="";for(var t in GeminiModels)e+=`<br>\n<button onclick="localStorage.removeItem('geminiChatInfo');localStorage.setItem('geminiModel','${t}');this.parentElement.style.display='none';" ${t==localStorage.getItem("geminiModel")?`style="background:${c};color:${dc};"`:""} >${t}\n<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="${c}"  viewBox="0 0 16 16">\n<path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/>\n</svg>\n</button>`;return e}function getYTPROCodecs(){var e='<p style="text-align:center;font-size:14px;">This feature is experimental , this may break YTPro if not configured correctly. By default all the codecs are enabled , tap on the buttons below to switch them.</p><br> <vc  style="font-size:14px;">Video Codecs</vc><br>';for(var t in YTPROCodecs.video){e+=`<button onclick="setRemoveCodec('${n=YTPROCodecs.video[t]}',this)" ${"true"==localStorage.getItem(n)?`style="background:${c};color:${dc};"`:""} >${n}\n<svg  ${"true"!=localStorage.getItem(n)?'style="display:none"':""} xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="${dc}"  viewBox="0 0 16 16">\n<path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"/>\n</svg>\n</button>`}for(var t in e+='<br><br><vc  style="font-size:14px">Audio Codecs</vc><br>',YTPROCodecs.audio){var n;e+=`<button onclick="setRemoveCodec('${n=YTPROCodecs.audio[t]}',this)" ${"true"==localStorage.getItem(n)?`style="background:${c};color:${dc};"`:""} >${n}\n<svg ${"true"!=localStorage.getItem(n)?'style="display:none"':""} xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="${dc}"  viewBox="0 0 16 16">\n<path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"/>\n</svg>\n</button>`}return e+=`<br><br>\n<div>Block 60FPS <span onclick="sttCnf(this,'block_60fps');" style="${sttCnf(0,0,"block_60fps")}" ><b style="${sttCnf(0,1,"block_60fps")}" ></b></span></div> `,e+=`<br><br><button onclick="this.parentElement.style.display='none';" style="margin-top:10px;width:25%;float:right;text-align:center;background:${c};color:${dc};" >Done</button>`}function setRemoveCodec(e,t){"true"==localStorage[e]?(localStorage.setItem(e,"false"),t.style.background=isD?"rgba(255,255,255,.1)":"rgba(0,0,0,.1)",t.style.color=c,t.children[0].style.display="none"):(localStorage.setItem(e,"true"),t.style.background=c,t.style.color=dc,t.children[0].style.display="block")}async function ytproSettings(){var e=document.createElement("div"),t=document.createElement("div");e.setAttribute("id","settingsprodiv"),t.setAttribute("id","ssprodivI"),e.setAttribute("style","\nheight:100%;width:100%;position:fixed;top:0;left:0;\ndisplay:flex;justify-content:center;\nbackground:rgba(0,0,0,0.7);\nz-index:9999;\n"),e.addEventListener("click",(function(e){e.target==t||t.contains(e.target)||history.back()})),t.setAttribute("style",`\nheight:65%;width:calc(95% - 20px);overflow:auto;\nbackground:${isD?"#212121":"#f1f1f1"};\nposition:fixed;\nbottom:20px;\nz-index:99999999999999;padding:10px;text-align:center;border-radius:25px;color:${c};text-align:center;\ncolor:${isD?"#ccc":"#444"};`),t.innerHTML=`<style>\n@import url('https://fonts.googleapis.com/css2?family=Delius&display=swap');\n#settingsprodiv a{text-decoration:underline;} #settingsprodiv li{list-style:none; display:flex;align-items:center;justify-content:center;color:#fff;border-radius:25px;padding:10px;background:#000;margin:5px;}\n#ssprodivI div{\nheight:10px;\nwidth:calc(100% - 20px);\npadding:10px;\nfont-size:1.45rem;\ntext-align:left;\ndisplay:flex;\nalign-items:center;\nposition:relative;\nmargin-top:3px;\n}\n#ssprodivI div span{\ndisplay:block;\nheight:23px;\nwidth:40px;\nborder-radius:40px;\nright:10px;\nposition:absolute;\nbackground:#151515;\n}\n#ssprodivI div span b{\ndisplay:block;\nheight:19px;\nwidth:19px;\nposition:absolute;\nright:2px;\ntop:2px;\nborder-radius:50px;\nbackground:#fff;\n}\n#ssprodivI div input::placeholder{color:${isD?"white":"#000"};}\n#ssprodivI div input,#ssprodivI div button{\nheight:35px;\nbackground:${isD?"rgba(255,255,255,.1)":"rgba(0,0,0,.1)"};\nwidth:100%;\nborder:0;\nborder-radius:20px;\npadding:10px;\nfont-size:1.25rem;\n}\n#ssprodivI button{\nbackground:transparent;\nfont-size:1.45rem;\nwidth:calc(100% - 20px);\nheight:40px;\ncolor:${isD?"#ccc":"#444"};\nmargin-top:3px;\ntext-align:left;\n}\n#ssprodivI button svg{\nfloat:right;\n}\n#ssprodivI .credit{\nfont-family: "Delius", cursive;\nfont-style: normal;\ndisplay:flex;\njustify-content:center;\nalign-items:center;\ntext-align:center;\nfont-size:1.55rem;\nfont-weight:bolder;\ncolor:${isD?"#fff":"#000"};\nposition:fixed;\nbottom:20px;\nwidth:calc(95% - 20px);\nleft:calc(2.5% + 0px);\nbackground:${d};\nborder-radius:0 0 25px 25px;\nbackdrop-filter:blur(10px);\nheight:15px;\n}\n#ssprodivI .geminiModels,#ssprodivI .disableCodecs,#ssprodivI .geminiPrompt{\nheight:auto;\nmin-height:100px;\npadding-bottom:12px;\nbackground:${isD?"#212121":"#f1f1f1"};\nposition:fixed;\ndisplay:block;\nwidth:calc(95% - 20px);\nleft:calc(2.5% + 0px);\nbottom:20px;\nz-index:999999;\nbox-shadow:0px 0px 5px black;\nborder-radius:25px;\ndisplay:none;\n}\n#ssprodivI .geminiModels:before,#ssprodivI .disableCodecs:before,#ssprodivI .geminiPrompt:before{\nheight:100%;\nwidth:100%;\nbackground:rgba(0,0,0,.6);\nposition:fixed;\ntop:0;\nleft:0;\nz-index:-999;\n}\n#ssprodivI .geminiPrompt textarea{\nheight:300px;\nwidth:95%;\nborder-radius:20px;\npadding:15px;\nbackground:${d};\n}\n#ssprodivI .disableCodecs{\ncolumn:50%;\n}\n#ssprodivI .disableCodecs button{\nwidth:48%;\ncolumn:50%;\nmargin-right:2%;\ncolor:${c};\n}\n</style>`,t.innerHTML+=`<br><b style='font-size:18px' >YT PRO Settings</b>\n<span style="font-size:10px">v${YTProVer}</span>\n<br><br>\n<div><input type="url" placeholder="Enter Youtube URL" onkeyup="searchUrl(this,event)"></div>\n<br>\n<button onclick="window.location.hash='#hearts';">Liked Videos\n<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="${isD?"#ccc":"#444"}" viewBox="0 0 16 16">\n<path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/>\n</svg>\n</button>\n<br>\n<button onclick="checkUpdates();">Check for Updates\n<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="${isD?"#ccc":"#444"}"  viewBox="0 0 16 16">\n<path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/>\n</svg>\n</button>\n<br>\n<div>Autoskip Sponsors <span onclick="sttCnf(this,'autoSpn');" style="${sttCnf(0,0,"autoSpn")}" ><b style="${sttCnf(0,1,"autoSpn")}"></b></span></div>\n<br>\n<div>Gesture Controls <span onclick="sttCnf(this,'gesC');" style="${sttCnf(0,0,"gesC")}" ><b style="${sttCnf(0,1,"gesC")}"></b></span></div>\n<br>\n<div>Force Zoom <span onclick="sttCnf(this,'fzoom');" style="${sttCnf(0,0,"fzoom")}" ><b style="${sttCnf(0,1,"fzoom")}" ></b></span></div> \n<br>\n<div>Background Play <span onclick="sttCnf(this,'bgplay');" style="${sttCnf(0,0,"bgplay")}" ><b style="${sttCnf(0,1,"bgplay")}" ></b></span></div> \n<br>\n<div>Hide Shorts <span onclick="sttCnf(this,'shorts');" style="${sttCnf(0,0,"shorts")}" ><b style="${sttCnf(0,1,"shorts")}" ></b></span></div> \n<br>\n<div>Use single Gemini chat <span onclick="sttCnf(this,'saveCInfo');" style="${sttCnf(0,0,"saveCInfo")}" ><b style="${sttCnf(0,1,"saveCInfo")}"></b></span></div>\n<br>\n<button onclick="document.getElementsByClassName('geminiModels')[0].style.display='block';document.getElementsByClassName('geminiModels')[0].innerHTML=getGeminiModels();">Select Gemini Model\n<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="${isD?"#ccc":"#444"}" viewBox="0 0 16 16">\n<path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/>\n</svg>\n</button>\n<br>\n<button onclick="document.getElementsByClassName('geminiPrompt')[0].style.display='block';">Edit Gemini Prompt\n<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="${isD?"#ccc":"#444"}" viewBox="0 0 16 16">\n<path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/>\n</svg>\n</button>\n<br>\n<button onclick="document.getElementsByClassName('disableCodecs')[0].style.display='block';document.getElementsByClassName('disableCodecs')[0].innerHTML=getYTPROCodecs();">Disable Codecs\n<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="${isD?"#ccc":"#444"}" viewBox="0 0 16 16">\n<path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/>\n</svg>\n</button>\n<br>\n<button onclick="Android.oplink('https://github.com/prateek-chaubey/YTPRO/issues')">Report Bugs\n<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="${isD?"#ccc":"#444"}" viewBox="0 0 16 16">\n<path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/>\n</svg>\n</button>\n<br>\n<button style="font-weight:bolder;" onclick="Android.oplink('https://github.com/sponsors/prateek-chaubey');">Become a Sponsor\n<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="${isD?"#ccc":"#444"}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n  <path d="M5 2l6 6-6 6"/>\n</svg>\n\n</button>\n<br>\n<div>Developer Mode <span onclick="sttCnf(this,'devMode');" style="${sttCnf(0,0,"devMode")}" ><b style="${sttCnf(0,1,"devMode")}"></b></span></div>\n<br><br>\n<p style="font-size:1.25rem;width:calc(100% - 20px);margin:auto;text-align:left"><b style="font-weight:bold">Disclaimer</b>: This is an unofficial OSS Youtube Mod, all the logos and brand names are property of Google LLC.<br>\nYou can find the source code at <a href="#" style="font-family:monospace;" onclick="Android.oplink('https://github.com/prateek-chaubey/YTPRO')" > https://github.com/prateek-chaubey/YTPRO</a>\n<br><br></p><br><br><br>\n\n<div class="geminiModels">\n\n</div>\n\n\n<div class="geminiPrompt" style="text-align:center;">\n\n<textarea>\n${localStorage.getItem("prompt")}\n</textarea>\n\n<button onclick="localStorage.setItem('prompt',this.previousElementSibling.value);this.parentElement.style.display='none';" style="margin-top:10px;width:25%;float:right;text-align:center;background:${c};color:${dc};" >Save</button>\n<br><br>\n</div>\n\n\n<div class="disableCodecs">\n\n</div>\n\n\n<div class="credit" >\n<z style="margin-right:6px">Made with </z>\n\n<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#fff" viewBox="-1 -1 18 18">\n<path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314" \nstroke="black" ${isD?"":"stroke-width='1'"} stroke-linejoin="round" stroke-linecap="round"/>\n</svg>\n\n\n\n<z style="margin-left:6px">MOD BY SPK MODS</z>\n</div>\n`,document.body.appendChild(e),e.appendChild(t)}function searchUrl(e,t){if(13===t.keyCode||"Enter"===t){var n="",i=e.value;try{n=new URL(i)}catch{return void Android.showToast("Enter a valid URL")}(n.hostname.indexOf("youtube.com")>-1||n.hostname.indexOf("youtu.be")>-1)&&(n.pathname.indexOf("shorts")>-1?n.pathname.substr(8,n.pathname.length):n.pathname.indexOf("watch")>-1?n.searchParams.get("v"):n.hostname.indexOf("youtu.be")>-1&&n.pathname.substr(1,n.pathname.length));var o=document.createElement("a");o.href=n,document.body.appendChild(o);try{document.getElementById("settingsprodiv").remove()}catch{}o.click()}}function checkUpdates(){parseFloat(Android.getInfo())<parseFloat(YTProVer)?updateModel():Android.showToast("Your app is up to date"),fetch("https://cdn.jsdelivr.net/npm/ytpro",{cache:"reload"}),fetch("https://cdn.jsdelivr.net/npm/ytpro/bgplay.js",{cache:"reload"}),fetch("https://cdn.jsdelivr.net/npm/ytpro/innertube.js",{cache:"reload"})}function sttCnf(e,t,n){if(isD)var i=["#000","#717171","#fff"];else i=["#fff","#909090","#151515"];if("string"==typeof n)return"true"!=localStorage.getItem(n)?1==t?`background:${i[0]};left:2px;`:`background:${i[1]};`:1==t?`background:${i[0]};`:`background:${i[2]};`;if("true"==localStorage.getItem(t)?(localStorage.setItem(t,"false"),e.style.background=i[1],e.children[0].style.left="2px",e.children[0].style.background=i[0]):(localStorage.setItem(t,"true"),e.style.background=i[2],e.children[0].style.left="auto",e.children[0].style.right="2px",e.children[0].style.background=i[0]),"false"==localStorage.getItem("fzoom")?document.getElementsByName("viewport")[0].setAttribute("content","width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no,"):document.getElementsByName("viewport")[0].setAttribute("content",""),"true"==localStorage.getItem("bgplay")?Android.setBgPlay(!0):Android.setBgPlay(!1),"true"!=localStorage.getItem("gesC"))try{document.getElementById("brtS").remove(),document.getElementById("volS").remove()}catch{}if("false"==localStorage.getItem("devMode"))try{eruda.destroy()}catch{}else window.location.href="javascript:(function () { var script = document.createElement('script'); script.src=\"//cdn.jsdelivr.net/npm/eruda\"; document.body.appendChild(script); script.onload = function () { eruda.init();} })();"}function formatFileSize(e){var t=parseInt(e);for(var n=0;t>1024;n++)t/=1024;return` | ${t.toFixed(1)} ${["B","KB","MB","GB","TB","PB"][n]}`}async function ytproDownVid(){var e=document.createElement("div"),t=document.createElement("div");t.setAttribute("id","downytprodiv"),e.setAttribute("id","outerdownytprodiv"),e.setAttribute("style","\nheight:100%;width:100%;position:fixed;top:0;left:0;\ndisplay:flex;justify-content:center;\nbackground:rgba(0,0,0,0.4);\nz-index:99999999999999;\n"),e.addEventListener("click",(function(e){e.target==t||t.contains(e.target)||history.back()})),t.setAttribute("style",`\nheight:50%;width:85%;overflow:auto;background:${isD?"#212121":"#f1f1f1"};\nposition:absolute;bottom:20px;\nz-index:99999999999999;padding:20px;text-align:center;border-radius:25px;text-align:center;\n`),document.body.appendChild(e),e.appendChild(t);window.location.pathname.indexOf("shorts")>-1?window.location.pathname.substr(8,window.location.pathname.length):new URLSearchParams(window.location.search).get("v"),t.innerHTML="Loading...",window.getDownloadStreams()}function showHideAdaptives(){document.querySelectorAll(".adpFormats").forEach((e=>{"none"==e.style.display?e.style.display="flex":e.style.display="none"}))}function downCap(e,t){Android.downvid(t,e,"plain/text")}function YTDownVid(e,t){var n="";".png"==t?n="image/png":".mp4"==t?n="video/mp4":".mp3"==t&&(n="audio/mp3"),Android.downvid(e.getAttribute("data-ytprotit")+t,e.getAttribute("data-ytprourl"),n)}var stopProp=!1,zoomIn=!1,scale=1;function checkDirection(e){n>t&&n-t>20?minimize(!0):n<t&&t-n>20&&minimize(!1)}function getDistance(e){const[t,n]=e;return Math.hypot(n.pageX-t.pageX,n.pageY-t.pageY)}function minimize(e){var t=document.getElementById("miniIframe")||(()=>{var e=document.createElement("iframe");e.setAttribute("id","miniIframe"),e.setAttribute("style",`\nheight:99.999%;width:100%;\nbackground:${c};\ntop:0px;\nline-height:50px;\nposition:fixed;\nleft:0;\nz-index:999;\nborder:0;\n`),e.src="https://m.youtube.com/",document.body.appendChild(e);var t=e.contentWindow||e.contentDocument.defaultView,n=t.document;"complete"==n.readyState&&t.trustedTypes&&t.trustedTypes.createPolicy&&!t.trustedTypes.defaultPolicy&&t.trustedTypes.createPolicy("default",{createHTML:e=>e,createScriptURL:e=>e,createScript:e=>e}),t.navigation.addEventListener("navigate",(e=>{if(e.destination.url.indexOf("youtube.com")>-1){(e.destination.url.indexOf("/watch")>-1||e.destination.url.indexOf("/shorts")>-1)&&(window.location.href=e.destination.url);n.createElement("script")}else window.location.href=e.destination.url}));var i=n.createElement("script"),o=n.createTextNode("window.addEventListener('DOMContentLoaded', function() {\nvar script2 = document.createElement('script');\nscript2.src=\"//cdn.jsdelivr.net/npm/ytpro\";\ndocument.body.appendChild(script2);\n});\n");return i.appendChild(o),n.body.appendChild(i),e})(),n=document.getElementById("player-container-id");e?(t.style.display="block",n.setAttribute("ogTop",getComputedStyle(n).top),n.style.transform="scale(0.65)",n.style.top=window.screen.height-2.5*n.getBoundingClientRect().height+"px",n.style.zIndex="9999"):(t.style.display="none",n.style.transform="scale(1)",n.style.top=n.getAttribute("ogTop"),n.style.zIndex="normal",n.removeAttribute("ogTop"))}function callbackSNlM0e(){return new Promise((e=>{callbackSNlM0e.resolve=e}))}function callbackGeminiClient(){return new Promise((e=>{callbackGeminiClient.resolve=e}))}function handleGeminiResponse(e){var t=e.stream;if(null==t)return document.getElementById("GeminiResponse").innerHTML='<center style="margin-top:15px" > An error Occurred while connecting to Gemini';var n=t.split("\n"),i=(e=>{for(var t in e)try{var n=JSON.parse(e[t][2]);if(n[4]?.[0]?.[0].indexOf("rc_")>-1)return n}catch(e){console.log("JSON parse error: "+e)}})(JSON.parse(n[2]))||[],o=[];o.push(i?.[1]?.[0]),o.push(i?.[1]?.[1]),o.push(i?.[4]?.[0]?.[0]),localStorage.setItem("geminiChatInfo",o.toString()),i=i?.[4]?.[0];var a=i?.[1]?.[0]||"";a=a.replace(/http:\/\/googleusercontent\.com\/\S+/g,"");var r=i?.[37]?.[0]?.[0]||null,l=[];for(var s in i?.[12]?.[1]){var d=i?.[12]?.[1]?.[s];l.push({url:d[0][0][0],alt:d[0][4],title:d[7][0]}),a+=`<center><img alt="${d[0][4]}" src="${d[0][0][0]}"></center>`}let c=new showdown.Converter;c.setFlavor("github");let p=(e=>{var t=e,n=t.match(/href="([^"]*)"/g)||[],i=[...n].map((e=>e.replace(/href="|"/g,"")));return n.forEach(((e,n)=>{var o=new URL(i[n]).searchParams.get("t");null!=o?t=t.replace(e,`href="javascript:void(0);" onclick="document.getElementsByClassName('video-stream')[0].currentTime='${o}'"`):i[n].indexOf("youtube.com")<0&&i[n].indexOf("youtu.be")<0&&(t=t.replace(e,`href="javascript:void(0);" onclick="try{document.getElementsByClassName('video-stream')[0].pause();}catch{}Android.oplink('${i[n]}')"`))})),t})(c.makeHtml(a)),h=null!=r?`<button onclick="(this.nextElementSibling.style.height=='auto') ? (this.children[0].style.transform='rotate(-90deg)',this.nextElementSibling.style.height='0') : (this.children[0].style.transform='rotate(90deg)',this.nextElementSibling.style.height='auto');" class="think" >Show Thinking \n<svg xmlns="http://www.w3.org/2000/svg" style="transform:rotate(-90deg);margin-left:10px" width="16" height="16" fill="${isD?"#ccc":"#444"}" viewBox="0 0 16 16">\n<path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/>\n</svg></button>\n<div class="geminiThoughts">\n<br>\n${c.makeHtml(r)}\n\n\n</div><br>`:"";document.getElementById("GeminiResponse").innerHTML=`<a href="https://gemini.google.com/chat/${o[0].replace("c_","")}" >Go to the chat</a><br><br>\n\n${h}\n\n\n\n<div class="geminiAnswer">\n${p}\n</div>\n`}async function geminiInfo(){if(null==document.getElementById("GeminiResponse"))(e=document.createElement("div")).setAttribute("style",`min-height:80px;max-height:400px;display:block;height:auto;overflow:scroll;font-weight:400;width:calc(92% - 20px);font-size:14px;padding:10px;position:relative;margin:auto;background:${d};border-radius:15px;margin-bottom:8px;`),e.setAttribute("id","GeminiResponse"),insertAfter(document.getElementById("ytproMainDivE"),e);else var e=document.getElementById("GeminiResponse");document.getElementById("GeminiResponse").innerHTML='\n<div class="geminiLoader"></div>';var t=Android.getAllCookies(window.location.href);if(t.indexOf("__Secure-1PSID=")<0)return void(e.innerHTML=`\n<center style="margin-top:15px">\n<span >Sign in to use Gemini<span>\n<br><br>\n<a href="https://accounts.google.com/ServiceLogin?service=youtube" >\n<button style="background:${c};color:${isD?"#000":"#fff"};font-weight:500;height:35px;width:90px;border-radius:25px;text-align:center;line-height:35px;">Sign In</button>\n</a>\n<br><br>\n\n</center>`);t=t.split(";");var n="";t.forEach((e=>{(e.indexOf("__Secure-1PSID=")>-1||e.indexOf("__Secure-1PSIDTS=")>-1)&&(n+=e+";")}));var i=JSON.stringify({accept:"*/*","accept-language":"en","content-type":"application/x-www-form-urlencoded;charset=UTF-8","x-goog-ext-525001261-jspb":GeminiModels[localStorage.getItem("geminiModel")],"x-same-domain":"1",cookie:n,Referer:"https://gemini.google.com/","Referrer-Policy":"origin"});if(""==GeminiAT){Android.getSNlM0e(n),GeminiAT=await callbackSNlM0e();var o=document.createElement("script");o.src="//cdn.jsdelivr.net/npm/showdown/dist/showdown.min.js",document.body.appendChild(o)}var a=localStorage.getItem("prompt").replaceAll("{url}",window.location.href).replaceAll("{videoId}",new URL(window.location.href).searchParams.get("v")).replaceAll("{title}",document.getElementsByClassName("slim-video-metadata-header")[0].textContent.replaceAll("|","").replaceAll("\\","").replaceAll("?","").replaceAll("*","").replaceAll("<","").replaceAll("/","").replaceAll(":","").replaceAll('"',"").replaceAll(">","")),r=null;"true"==localStorage.getItem("saveCInfo")&&null!=localStorage.getItem("geminiChatInfo")&&(r=localStorage.getItem("geminiChatInfo").split(","));const l=new URLSearchParams;l.append("f.req",JSON.stringify([null,JSON.stringify([[a],null,r])])),l.append("at",GeminiAT),Android.GeminiClient("https://gemini.google.com/_/BardChatUi/data/assistant.lamda.BardFrontendService/StreamGenerate",i,l.toString()),handleGeminiResponse(await callbackGeminiClient())}document.body.addEventListener("touchstart",(e=>{t=e.changedTouches[0].screenY,2===e.touches.length&&(i=getDistance(e.touches))}),{capture:!0}),document.body.addEventListener("touchmove",(e=>{if(stopProp&&e.stopPropagation(),2===e.touches.length&&null!==i){const n=getDistance(e.touches)/i;if(stopProp=!0,(e.target.className.toString().includes("video-stream")||e.target.className.toString().includes("player-controls-background"))&&document.fullscreenElement)if(n>1.05){var t=document.getElementsByClassName("video-stream")[0];zoomIn=!0,scale=Math.max(screen.height/t.offsetHeight,screen.width/t.offsetWidth),addMaxButton()}else n<.95&&(zoomIn=!1,scale=1,addMaxButton())}}),{capture:!0}),document.body.addEventListener("touchend",(e=>{n=e.changedTouches[0].screenY,!e.target.className.toString().includes("video-stream")&&!e.target.className.toString().includes("player-controls-background")||document.fullscreenElement||checkDirection(),e.touches.length<2&&(i=null,setTimeout((()=>{stopProp=!1}),500))}),{capture:!0}),navigation.addEventListener("navigate",(e=>{(e.destination.url.indexOf("watch")>-1||e.destination.url.indexOf("shorts")>-1)&&(dislikes="...",fDislikes(e.destination.url),checkSponsors(e.destination.url))}));var volSvg='<svg xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 24 24" width="16" focusable="false" aria-hidden="true" style="pointer-events: none;filter:drop-shadow(0px 0px 1px black);position:absolute;top:10%"><path fill="#fff" d="M11.485 2.143 3.913 6.687A6 6 0 001 11.832v.338a6 6 0 002.913 5.144l7.572 4.543A1 1 0 0013 21V3a1.001 1.001 0 00-1.515-.857Zm6.88 2.079a1 1 0 00-.001 1.414 9 9 0 010 12.728 1 1 0 001.414 1.414 11 11 0 000-15.556 1 1 0 00-1.413 0Zm-2.83 2.828a1 1 0 000 1.415 5 5 0 010 7.07 1 1 0 001.415 1.415 6.999 6.999 0 000-9.9 1 1 0 00-1.415 0Z"></path></svg>',brtSvg='<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="16" viewBox="0 0 24 24" width="16" style="filter:drop-shadow(0px 0px 1px black);position:absolute;top:10%;"><rect fill="none" height="24" width="24"/><path fill="#fff" d="M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0 c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2 c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1 C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06 c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41 l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41 c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36 c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg>';async function pkc(){if(window.location.href.indexOf("youtube.com/watch")>-1){try{var e=document.getElementsByTagName("dislike-button-view-model")[0].children[0];if(e.children[0].children[0].style.width="auto",e.children[0].children[0].style.paddingRight="15px",document.getElementById("diskl"))document.getElementById("diskl").innerHTML=dislikes;else{var n=document.createElement("span");n.setAttribute("id","diskl"),n.innerHTML=dislikes,n.style.marginLeft="5px",insertAfter(e.getElementsByClassName("yt-spec-button-shape-next__icon")[0],n)}}catch(e){}try{if("true"==localStorage.getItem("gesC")){var i={height:"100%",width:.15*document.getElementById("player-container-id").getBoundingClientRect().width+"px",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center",position:"absolute",top:"0px",right:"0px",opacity:"0"},o=document.createElement("div"),a=document.createElement("div");a.setAttribute("id","brtS"),o.setAttribute("id","volS"),Object.assign(o.style,i),Object.assign(a.style,i),a.style.left="0",o.innerHTML=`${volSvg}<div style="position:absolute;bottom:5%;left:calc(50% - 1.5px);background:rgba(255,255,255,0.5); height:70%;width:3px;border-radius:3px;color:red;box-shadow:0px 0px 2px black;pointer-events:none" ><div style="background:white;width:100%;height:${100*vol}%;border-radius:3px;position:absolute;bottom:0;box-shadow:0px 0px 2px black;" id="volIS"></div></div>`,a.innerHTML=`${brtSvg}<div style="position:absolute;bottom:5%;left:calc(50% - 1.5px);background:rgba(255,255,255,0.5); height:70%;width:3px;border-radius:3px;color:red;box-shadow:0px 0px 2px black;pointer-events:none" ><div style="background:white;width:100%;height:${100*brt}%;border-radius:3px;position:absolute;bottom:0;box-shadow:0px 0px 1px black;" id="brtIS"></div></div>`,document.getElementById("brtS")||(document.getElementById("player-container-id").appendChild(a),a.addEventListener("touchmove",(e=>{e.preventDefault(),a.style.opacity="1",t-e.touches[0].pageY>0?brt+=sens:brt-=sens,brt>1&&(brt=1),brt<0&&(brt=0),t=e.touches[0].pageY,Android.setBrightness(brt),document.getElementById("brtIS").style.height=100*brt+"%"}),{passive:!1}),a.addEventListener("touchend",(e=>{a.style.opacity="0"}),{passive:!1})),document.getElementById("volS")||(document.getElementById("player-container-id").appendChild(o),o.addEventListener("touchmove",(e=>{e.preventDefault(),o.style.opacity="1",t-e.touches[0].pageY>0?vol+=sens:vol-=sens,vol>1&&(vol=1),vol<0&&(vol=0),t=e.touches[0].pageY,Android.setVolume(vol),document.getElementById("volIS").style.height=100*vol+"%"}),{passive:!1}),o.addEventListener("touchend",(e=>{o.style.opacity="0"}),{passive:!1}))}}catch(e){console.log(e)}if(null==document.getElementById("ytproMainDivE")){var r=document.createElement("div");r.setAttribute("id","ytproMainDivE"),r.setAttribute("style","\nheight:50px;width:100%;display:block;overflow:auto;\n"),insertAfter(document.getElementsByClassName("slim-video-action-bar-actions")[0],r);var l=document.createElement("div");l.setAttribute("style","\nheight:50px;width:100%;display:flex;overflow:auto;\nalign-items:center;justify-content:center;padding-left:20px;padding-right:10px;\n"),r.appendChild(l);var s=document.createElement("div");sty(s),s.style.width="115px",s.style.height="calc(65% - 4.5px)",s.style.position="relative",s.style.background=`linear-gradient(${isD?"#272727,#272727":"#f2f2f2,#f2f2f2"}) padding-box , linear-gradient(16deg ,#4285f4 ,#9b72cb ,#d96570) border-box`,s.style.border="2px solid transparent",s.innerHTML=`\n<svg style="height:16px;width:16px" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M16 8.016A8.522 8.522 0 008.016 16h-.032A8.521 8.521 0 000 8.016v-.032A8.521 8.521 0 007.984 0h.032A8.522 8.522 0 0016 7.984v.032z" fill="url(#prefix__paint0_radial_980_20147)"/><defs><radialGradient id="prefix__paint0_radial_980_20147" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="matrix(16.1326 5.4553 -43.70045 129.2322 1.588 6.503)"><stop offset=".067" stop-color="#9168C0"/><stop offset=".343" stop-color="#5684D1"/><stop offset=".672" stop-color="#1BA1E3"/></radialGradient></defs></svg>\n<span style="margin-left:4px">Gemini</span>\n<style type="text/css">\n#GeminiResponse img{\nmax-width:90%;\nheight:auto;\nborder-radius:10px;\nmargin-top:5px;\n}\n#GeminiResponse a{\ncolor:rgb(62,166,255);\n}\n.geminiLoader,.geminiLoader:before,.geminiLoader:after{\ncontent:'';\nheight:10px;\nwidth:70%;\nposition:absolute;\ntop:15px;\nborder-radius:5px;\nleft:10px;\nbackground:${d};\nanimation: geminiLoad 1s linear infinite alternate;\n}\n.geminiLoader:before{\ntop:27px;\nleft:0;\n}\n.geminiLoader:after{\ntop:54px;\nleft:0;\nwidth:90%;\n}\n@keyframes geminiLoad{\n0% {\nopacity:1;\n}\n100% {\nopacity:.4;\n}\n}\n.geminiThoughts{\nheight:0;\nwidth:calc(100% - 30px);\ntransition:5s;\nfloat:left;\noverflow:hidden;\npadding-left:5px;\nfont-style:italic;\nborder-left:3px solid ${d};\ndisplay:block;\nfloat:none;\nclear:both;\n}\n.geminiAnswer{\nheight:auto;\nwidth:100%;\ndisplay:block;\nfloat:none;\nclear:both;\n}\n#GeminiResponse .think{\nbackground:transparent;\nfont-size:1.45rem;\nwidth:calc(100% - 20px);\nheight:20px;\ncolor:${isD?"#ccc":"#444"};\nmargin-top:3px;\ntext-align:left;\ndisplay:flex;\npadding-left:5px;\nborder-left:3px solid ${d};\n}\n</style>\n`,l.appendChild(s),s.addEventListener("click",(async function(){parseFloat(Android.getInfo())<parseFloat(YTProVer)?updateModel():geminiInfo()}));var p=document.createElement("div");sty(p),isHeart()?p.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path fill="${c}" d="M13.35 20.13c-.76.69-1.93.69-2.69-.01l-.11-.1C5.3 15.27 1.87 12.16 2 8.28c.06-1.7.93-3.33 2.34-4.29 2.64-1.8 5.9-.96 7.66 1.1 1.76-2.06 5.02-2.91 7.66-1.1 1.41.96 2.28 2.59 2.34 4.29.14 3.88-3.3 6.99-8.55 11.76l-.1.09z"/></svg><span style="margin-left:8px">Heart<span>`:p.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path fill="${c}" d="M19.66 3.99c-2.64-1.8-5.9-.96-7.66 1.1-1.76-2.06-5.02-2.91-7.66-1.1-1.4.96-2.28 2.58-2.34 4.29-.14 3.88 3.3 6.99 8.55 11.76l.1.09c.76.69 1.93.69 2.69-.01l.11-.1c5.25-4.76 8.68-7.87 8.55-11.75-.06-1.7-.94-3.32-2.34-4.28zM12.1 18.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"/></svg><span style="margin-left:8px">Heart<span>`,l.appendChild(p),p.addEventListener("click",(()=>{ytProHeart(p)}));var h=document.createElement("div");sty(h),h.style.width="140px",h.innerHTML=`${downBtn.replace('width="18"','width="24"').replace('height="18"','height="24"')}<span style="margin-left:2px">Download<span>`,l.appendChild(h),h.addEventListener("click",(function(){window.location.hash="download"}));var u=document.createElement("div");sty(u),u.style.width="140px",u.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" height="22" viewBox="0 0 24 24" width="22"><path fill="${c}" d="M18 7h-6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V8c0-.55-.45-1-1-1zm3-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm-1 16.01H4c-.55 0-1-.45-1-1V5.98c0-.55.45-1 1-1h16c.55 0 1 .45 1 1v12.03c0 .55-.45 1-1 1z"/></svg><span style="margin-left:8px">PIP Mode<span>`,l.appendChild(u),u.addEventListener("click",(function(){PIPlayer(!0)}))}}else if(window.location.href.indexOf("youtube.com/shorts")>-1){if(null==document.getElementById("ytproMainSDivE")){var m=document.createElement("div");m.setAttribute("id","ytproMainSDivE"),m.setAttribute("style","width:50px;height:auto;position:relative;display:block;"),ysDown=document.createElement("div"),ysDown.setAttribute("style","\nheight:48px;width:48px;display:flex;align-items:center;justify-content:center;\nbackground:rgba(0,0,0,.3);border-radius:50%;margin-bottom:20px;backdrop-filter:blur(3px);\n"),ysDown.innerHTML=downBtn.replaceAll(`${c}`,"#fff").replace('width="24"','width="30"').replace('height="24"','height="30"'),ysDown.addEventListener("click",(function(){window.location.hash="download"})),ysHeart=document.createElement("div"),ysHeart.setAttribute("style","\nheight:48px;width:48px;\ndisplay:flex;align-items:center;justify-content:center;backdrop-filter:blur(3px);\nbackground:rgba(0,0,0,.3);border-radius:50%;margin-top:8px;margin-bottom:0px;\n"),isHeart()?ysHeart.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path fill="#fff" d="M13.35 20.13c-.76.69-1.93.69-2.69-.01l-.11-.1C5.3 15.27 1.87 12.16 2 8.28c.06-1.7.93-3.33 2.34-4.29 2.64-1.8 5.9-.96 7.66 1.1 1.76-2.06 5.02-2.91 7.66-1.1 1.41.96 2.28 2.59 2.34 4.29.14 3.88-3.3 6.99-8.55 11.76l-.1.09z"/></svg>':ysHeart.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path fill="#fff" d="M19.66 3.99c-2.64-1.8-5.9-.96-7.66 1.1-1.76-2.06-5.02-2.91-7.66-1.1-1.4.96-2.28 2.58-2.34 4.29-.14 3.88 3.3 6.99 8.55 11.76l.1.09c.76.69 1.93.69 2.69-.01l.11-.1c5.25-4.76 8.68-7.87 8.55-11.75-.06-1.7-.94-3.32-2.34-4.28zM12.1 18.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"/></svg>',ysHeart.addEventListener("click",(function(){ytProHeart(ysHeart)}));try{document.getElementsByClassName("reel-player-overlay-actions")[0].children[0]&&(document.getElementsByClassName("reel-player-overlay-actions")[0].insertBefore(m,document.getElementsByClassName("reel-player-overlay-actions")[0].children[0]),m.appendChild(ysDown),m.appendChild(ysHeart))}catch{}}try{document.querySelectorAll("dislike-button-view-model")[0].children[0].children[0].children[0].children[1].children[0].innerHTML=dislikes}catch{}}}async function showHearts(){var e=document.createElement("div"),t=document.createElement("div");if(t.setAttribute("id","heartytprodiv"),e.setAttribute("id","outerheartsdiv"),e.setAttribute("style","\nheight:100%;width:100%;position:fixed;top:0;left:0;\ndisplay:flex;justify-content:center;\nbackground:rgba(0,0,0,0.4);\nz-index:99999999999999;\n"),t.setAttribute("style",`\nheight:50%;width:85%;overflow:auto;background:${isD?"#212121":"#f1f1f1"};\nposition:absolute;bottom:20px;\nz-index:99999999999999;padding:20px;text-align:center;border-radius:25px;text-align:center;\n`),t.innerHTML=`<style>#heartytprodiv a{text-decoration:none;} #heartytprodiv li{list-style:none; display:flex;align-items:center;border-radius:15px;padding:0px;background:${isD?"rgba(0,0,0,.5)":"#fff"};margin:5px;}</style>`,t.innerHTML+="Liked Videos<ul id='listurl'>",t.innerHTML+="<style>.thum{height:70px;border-radius:5px;}.thum img{float:left;height:70px;width:125px;border-radius:15px 0 0 15px;flex-shrink: 0;}</style>",document.body.appendChild(e),e.appendChild(t),e.addEventListener("click",(function(e){event.composedPath().includes(t)||history.back()})),null==localStorage.getItem("hearts"))t.innerHTML+="No Videos Found";else{var n=JSON.parse(localStorage.getItem("hearts"));if(0===Object.keys(n).length)return t.innerHTML+="No Videos Found";for(var i=Object.keys(n).length-1;i>-1;i--){var o=Object.keys(n)[i];t.innerHTML+=`<li class="thum" >\n<img onclick="window.location.href=('https://youtu.be/${o}');" src="${n[o].thumb}" ><br>\n<div style="width:calc(100% - 170px);margin-left:5px;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical; -webkit-line-clamp:3;overflow:hidden;text-overflow:ellipsis;" onclick="window.location.href=('https://youtu.be/${o}');" >${n[o].title}</div>\n<div style="width:calc(100% - (100% - 35px))">\n<svg onclick="remHeart(this,'${o}');" xmlns="http://www.w3.org/2000/svg" width="20" height="20" style="margin-left:0px;" fill="#f24" class="bi bi-x-circle-fill" viewBox="0 0 16 16">\n<path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"/>\n</svg>\n</span>\n</div>\n</li>`,await new Promise((e=>setTimeout(e,1)))}}}function remHeart(e,t){if(localStorage.getItem("hearts")?.indexOf(t)>-1){e.parentElement.parentElement.remove();var n=JSON.parse(localStorage.getItem("hearts")||"{}");delete n[t],localStorage.setItem("hearts",JSON.stringify(n))}}function ytProHeart(e){var t=new URLSearchParams(window.location.search).get("v")||window.location.pathname.replace("/shorts/",""),n=document.getElementsByClassName("video-stream")[0],i=document.createElement("canvas");i.style.width="1600px",i.style.height="900px",i.style.background="black";var o=i.getContext("2d");window.location.pathname.indexOf("shorts")>-1?o.drawImage(n,105,0,90,160):o.drawImage(n,0,0,320,180);var a=i.toDataURL("image/jpeg");if(window.location.pathname.indexOf("shorts")>-1)var r={thumb:a,title:document.getElementsByClassName("ytShortsVideoTitleViewModelShortsVideoTitle")[0].textContent.replaceAll("|","").replaceAll("\\","").replaceAll("?","").replaceAll("*","").replaceAll("<","").replaceAll("/","").replaceAll(":","").replaceAll('"',"").replaceAll(">","")};else r={thumb:a,title:document.getElementsByClassName("slim-video-metadata-header")[0].textContent.replaceAll("|","").replaceAll("\\","").replaceAll("?","").replaceAll("*","").replaceAll("<","").replaceAll("/","").replaceAll(":","").replaceAll('"',"").replaceAll(">","")};var l,s="16",d='<span style="margin-left:8px">Heart<span>';(d=window.location.href.indexOf("youtube.com/shorts")>-1?"":'<span style="margin-left:8px">Heart<span>',s=(window.location.href.indexOf("youtube.com/shorts"),"24"),localStorage.getItem("hearts")?.indexOf(t)>-1)?(delete(l=JSON.parse(localStorage.getItem("hearts")||"{}"))[t],localStorage.setItem("hearts",JSON.stringify(l)),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="${s}" height="${s}" fill="${window.location.href.indexOf("youtube.com/shorts")>-1?"#fff":c}" viewBox="0 0 24 24">\n<path d="M0 0h24v24H0V0z" fill="none"/><path fill="${window.location.href.indexOf("youtube.com/shorts")>-1?"#fff":c}" d="M19.66 3.99c-2.64-1.8-5.9-.96-7.66 1.1-1.76-2.06-5.02-2.91-7.66-1.1-1.4.96-2.28 2.58-2.34 4.29-.14 3.88 3.3 6.99 8.55 11.76l.1.09c.76.69 1.93.69 2.69-.01l.11-.1c5.25-4.76 8.68-7.87 8.55-11.75-.06-1.7-.94-3.32-2.34-4.28zM12.1 18.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"/></svg>${d}`):((l=JSON.parse(localStorage.getItem("hearts")||"{}"))[t]=r,localStorage.setItem("hearts",JSON.stringify(l)),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="${s}" height="${s}" viewBox="0 0 24 24" ><path d="M0 0h24v24H0V0z" fill="none"/><path fill="${window.location.href.indexOf("youtube.com/shorts")>-1?"#fff":c}" d="M13.35 20.13c-.76.69-1.93.69-2.69-.01l-.11-.1C5.3 15.27 1.87 12.16 2 8.28c.06-1.7.93-3.33 2.34-4.29 2.64-1.8 5.9-.96 7.66 1.1 1.76-2.06 5.02-2.91 7.66-1.1 1.41.96 2.28 2.59 2.34 4.29.14 3.88-3.3 6.99-8.55 11.76l-.1.09z"/></svg>${d}`)}function isHeart(){return localStorage.getItem("hearts")?.indexOf(new URLSearchParams(window.location.search).get("v"))>-1||localStorage.getItem("hearts")?.indexOf(window.location.pathname.replace("/shorts/",""))>-1}function removePIP(){isPIP=!1,pauseAllowed=!0,document.exitFullscreen(),document.getElementsByClassName("video-stream")[0].pause(),setTimeout((()=>{document.getElementsByClassName("video-stream")[0].play()}),5)}function PIPlayer(e=!1){var t=document.getElementsByClassName("video-stream")[0];e?t.getBoundingClientRect().height>t.getBoundingClientRect().width?Android.pipvid("portrait"):Android.pipvid("landscape"):(t.requestFullscreen(),t.play(),pauseAllowed=!1,isPIP=!0)}setInterval(pkc,0),HTMLMediaElement.prototype.pause=function(){if(pauseAllowed||PIPause)return e.apply(this,arguments);this.paused&&this.play().catch((()=>{}))};const o=document.exitFullscreen,a=Element.prototype.requestFullscreen;document.exitFullscreen=function(...e){if(!isPIP)return o.apply(this,e)},Element.prototype.requestFullscreen=function(...e){var t=document.getElementsByClassName("video-stream")[0];return t.getBoundingClientRect().height>t.getBoundingClientRect().width?Android.fullScreen(!0):Android.fullScreen(!1),a.apply(this,e)},window.onhashchange=()=>{try{document.getElementById("outerdownytprodiv").remove()}catch{}try{document.getElementById("outerheartsdiv").remove()}catch{}try{document.getElementById("settingsprodiv").remove()}catch{}"#download"==window.location.hash?ytproDownVid():"#settings"==window.location.hash?ytproSettings():"#hearts"==window.location.hash&&showHearts()},(()=>{const e=window.fetch;window.fetch=async function(t,n){try{const n="string"==typeof t?t:t.url;if(n.includes("googleads.g.doubleclick.net")||n.includes("youtube.com/youtubei/v1/player/ad_break")||n.includes("youtube.com/pagead/adview")||n.includes("youtube.com/api/stats/ads"))return"";{const t=await e.apply(this,arguments);try{const e=t.clone();let n=await e.json();"adSlotRenderer"!=n.responseContext.webResponseContextExtensionData.webResponseContextPreloadData.preloadMessageNames[0]&&"shortsAdsRenderer"!=n.responseContext.webResponseContextExtensionData.webResponseContextPreloadData.preloadMessageNames[0]||(n={}),delete n.adSlots,delete n.playerAds,delete n.adPlacements,delete n.adBreakHeartbeatParams;const i=JSON.stringify(n),o=new Headers(t.headers);return o.set("content-length",String(i.length)),o.set("content-type","application/json"),new Response(i,{status:t.status,statusText:t.statusText,headers:o})}catch(e){return t}}}catch(e){}}})();const r=window.XMLHttpRequest,l=r.prototype.open,s=r.prototype.send;function adsBlock(){try{document.getElementsByClassName("video-stream")[0].removeAttribute("disablepictureinpicture")}catch{}var e=document.getElementsByTagName("ad-slot-renderer");for(var t in e)try{e[t].remove()}catch{}try{document.getElementsByClassName("ad-interrupting")[0].getElementsByTagName("video")[0].currentTime=document.getElementsByClassName("ad-interrupting")[0].getElementsByTagName("video")[0].duration,document.getElementsByClassName("ytp-ad-skip-button-modern")[0].click()}catch{}try{document.getElementsByTagName("ytm-promoted-sparkles-web-renderer")[0].remove()}catch{}try{document.getElementsByTagName("ytm-companion-ad-renderer")[0].remove()}catch{}try{document.querySelectorAll("a").forEach((e=>{e.href.indexOf("intent://")>-1&&(e.style.display="none")}))}catch{}try{document.getElementsByTagName("ytm-paid-content-overlay-renderer")[0].style.display="none"}catch{}if("true"==localStorage.getItem("shorts")){for(t in document.getElementsByClassName("big-shorts-singleton"))try{document.getElementsByClassName("big-shorts-singleton")[t].remove()}catch{}for(t in document.getElementsByTagName("ytm-reel-shelf-renderer")){try{document.getElementsByTagName("ytm-reel-shelf-renderer")[t].remove()}catch{}for(t in document.getElementsByTagName("ytm-shorts-lockup-view-model"))try{document.getElementsByTagName("ytm-shorts-lockup-view-model")[t].remove()}catch{}}}}function addMaxButton(){var e=document.getElementById("player-container-id"),t=document.getElementById("player");document.getElementsByClassName("video-stream")[0];if(e===document.fullscreenElement)try{t.style.transform=zoomIn?`scale(${scale})`:"scale(1)"}catch{}else try{t.style.transform="scale(1)"}catch{}}r.prototype.open=function(e,t,...n){return this._interceptedMethod=e,this._interceptedUrl=t,l.apply(this,[e,t,...n])},r.prototype.send=function(e){if(!(this._interceptedUrl.includes("googleads.g.doubleclick.net")||this._interceptedUrl.includes("youtube.com/youtubei/v1/player/ad_break")||this._interceptedUrl.includes("youtube.com/pagead/adview")||this._interceptedUrl.includes("youtube.com/api/stats/ads")))return this.addEventListener("readystatechange",(function(){if(4===this.readyState&&""===this.responseType||"text"===this.responseType)try{const e=this.getResponseHeader("Content-Type");if(e&&e.includes("application/json")){let e=JSON.parse(this.responseText);e.adPlacements&&(console.log("Removed ad placements from response!"),e.adPlacements=[]),delete e.adSlots,delete e.playerAds,delete e.adPlacements,delete e.adBreakHeartbeatParams,Object.defineProperty(this,"responseText",{value:JSON.stringify(e)}),Object.defineProperty(this,"response",{value:e})}}catch(e){}})),s.apply(this,arguments);console.warn("Blocked:",this._interceptedUrl)};const p=document.body,h={childList:!0,subtree:!0};function updateModel(){var e=document.createElement("div");e.setAttribute("style","height:100%;width:100%;position:fixed;display:grid;align-items:center;top:0;left:0;background:rgba(0,0,0,.6);z-index:99999;"),e.innerHTML=`\n<div style="height:auto;width:70%;padding:20px;background:rgba(0,0,0,.6);border:1px solid #888;box-shadow:0px 0px 5px black;color:white;backdrop-filter:blur(10px);border-radius:15px;margin:auto">\n<h2> Mandatory Update </h2><br>\nLatest Version ${YTProVer} of YTPRO is available , update the YTPRO to get latest features.\n<br>- This update is mandatory as it fixes a ton of bugs and improves functionality <br>\n- Fixed PIP mode , BG Player , Downloads<br>\n- Fixed fitscreen bug , with pinch gesture<br>\n- Added gestures for brightness and volume control<br>\n- Optimized the UI of both Download and Settings menu<br>\n- Added new UI icons based on the latest YouTube's UI<br>\n- Fixed bugs and improved functionality<br>\n- for the full list <u onclick="Android.oplink('https://github.com/prateek-chaubey/YTPRO/releases');" >click here</u>\n<br>\n<br>\n<div style="display:flex;">\n\x3c!--<button style="border:0;border-radius:10px;height:30px;width:150px;background:;" onclick="this.parentElement.parentElement.parentElement.remove();">Cancel</button>--\x3e\n<button style="border:0;border-radius:10px;height:30px;width:150px;background:rgba(255,50,50,.7);float:right;" onclick="Android.downvid('YTPRO.zip','https://nightly.link/prateek-chaubey/YTPro/workflows/gradle/main/YTPRO.zip','application/zip');">Download</button>\n</div>\n\n</div>\n`,document.body.appendChild(e)}new MutationObserver((()=>{adsBlock(),addMaxButton(),addSettingsTab();try{var e=document.getElementsByClassName("video-stream")[0];e.getBoundingClientRect().height>e.getBoundingClientRect().width?Android.fullScreen(!0):Android.fullScreen(!1)}catch{}})).observe(p,h),window.onload=function(){parseFloat(Android.getInfo())<parseFloat(YTProVer)&&("https://m.youtube.com/"==window.location.href||"https://m.youtube.com"==window.location.href)&&updateModel()},document.addEventListener("click",(e=>{let t=e.target.closest("a");if(t&&t.href.includes("www.youtube.com/redirect")){try{document.getElementsByClassName("video-stream")[0].pause()}catch{}const n=new URL(t.href).searchParams.get("q");setTimeout((()=>{Android.oplink(n)}),50),e.preventDefault(),e.stopPropagation()}}),!0)}
//# sourceMappingURL=/sm/87217423349516942c52a7d2a0bbf9548a035043bfa860a7e07e31d8e7e06fc8.map
